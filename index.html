<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Vanilla JavaScript vs underscore and lodash</title>
  <link rel="stylesheet" href="style.css">
  <script src="helpers/menu.js"></script>
  <script src="https://unpkg.com/react@18/umd/react.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js" crossorigin></script>
  <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css">
</head>
<body class="l-page">
  <header class="l-header">
    <h1>Vanilla JavaScript vs <a href="https://underscorejs.org">Underscore.js</a> and <a href="https://lodash.com">Lodash.js</a></h1>
  </header>
  <aside class="l-toc" id="toc">

  </aside>
  <main class="l-content">
    <h2>Методы "Array"</h2>

    <h3><a id="fn-chunk"></a>_.chunk</h3>
    <p>Создает массив элементов, разбитых на группы по размеру длины. Если массив не может быть разделен равномерно, последним фрагментом будут оставшиеся элементы.</p>
    <h4>Lodash</h4>
    <pre><code class="language-js">
_.chunk(['a', 'b', 'c', 'd'], 2);
// => [['a', 'b'], ['c', 'd']]
_.chunk(['a', 'b', 'c', 'd'], 3);
// => [['a', 'b', 'c'], ['d']]
    </code></pre>
    <h4>Underscore</h4>
    <pre><code class="language-js">
_.chunk(['a', 'b', 'c', 'd'], 2);
// => [['a', 'b'], ['c', 'd']]
_.chunk(['a', 'b', 'c', 'd'], 3);
// => [['a', 'b', 'c'], ['d']]
    </code></pre>
    <h4>Vanilla JavaScript</h4>
    <pre><code class="language-js">
function chunk(arr, sizeChunk = 1) {
  const result = [[]];
  let index = 0;
  let size = sizeChunk;
  arr.forEach(el => {
    if(size <= 0) {
      size = sizeChunk;
      index++;
      result[index] = [];
    }
    result[index].push(el);
    size--;
  });
  return result;
}

chunk(['a', 'b', 'c', 'd'], 2);
// => [['a', 'b'], ['c', 'd']]
chunk(['a', 'b', 'c', 'd'], 3);
// => [['a', 'b', 'c'], ['d']]
    </code></pre>

    <h3><a id="fn-compact"></a>_.compact</h3>
    <p>Создает массив, в котором удалены все ложные значения. Значения false, null, 0, '', undefined и NaN являются ложными.</p>
    <h4>Lodash</h4>
    <pre><code class="language-js">
_.compact([0, 1, false, 2, '', undefined, null, NaN]);
// => [ 1, 2 ]
    </code></pre>
    <h4>Underscore</h4>
    <pre><code class="language-js">
_.compact([0, 1, false, 2, '', undefined, null, NaN]);
// => [ 1, 2 ]
    </code></pre>
    <h4>Vanilla JavaScript</h4>
    <pre><code class="language-js">
function compact(arr) {
  return arr.filter(elem => Boolean(elem) != false);
}
compact([0, 1, false, 2, '', undefined, null, NaN]);
// => [ 1, 2 ]
    </code></pre>

    <h3><a id="fn-concat"></a>_.concat</h3>
    <p>Создает новый массив, объединяющий массив с любыми дополнительными массивами и/или значениями.</p>
    <h4>Lodash</h4>
    <pre><code class="language-js">
const arr = [1];
_.concat(arr, 2, [3], [[4]]);
// => [ 1, 2, 3, [ 4 ]]
    </code></pre>
    <h4>Vanilla JavaScript</h4>
    <pre><code class="language-js">
const arr = [1];
[...arr, 2, ...[3], ...[[4]]];
// => [ 1, 2, 3, [ 4 ]]
arr.concat(2, [3], [[4]]);
// => [ 1, 2, 3, [ 4 ]]
    </code></pre>

    <h3><a id="fn-difference"></a>_.difference</h3>
    <p>Создает массив значений массива, не включенных в другие заданные массивы, используя SameValueZero для сравнения на равенство. Порядок и ссылки значений результата определяются первым массивом.</p>
    <h4>Lodash</h4>
    <pre><code class="language-js">
_.difference([2, 1, 4], [2, 3, 5])
// => [ 1, 4 ]
    </code></pre>
    <h4>Underscore</h4>
    <pre><code class="language-js">
_.difference([2, 1, 4], [2, 3, 5])
// => [ 1, 4 ]
    </code></pre>
    <h4>Vanilla JavaScript</h4>
    <pre><code class="language-js">
function difference(arr, value) {
  return arr.filter(function(elem) {
    return value.indexOf(elem) == -1;
  });
}
difference([2, 1, 4], [2, 3, 5])
// => [ 1, 4 ]
    </code></pre>
  </main>
  <script type="text/babel" src="script.js">
  </script>
</body>
</html>